<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>dialog</title>
<link href="../../css/bootstrap/bootstrap.css" rel="stylesheet">
<link href="../../css/base.css" rel="stylesheet">
</head>
<body ms-controller='page'>
	<div class="container-fluid mgt10" ms-contextmenu='contextmenu'>
		<div class='row'>
			<div class='col-sm-12'>
				<button class='btn btn-default' ms-click='show'>show</button>
			</div>
		</div>
	</div>
	<ab:dialog config='$dialog1Opts' identifier='$dialog1'>
		<button class='btn btn-default' ms-click='show2'>show2</button>
	</ab:dialog>
	<ab:dialog config='$dialog2Opts' identifier='$dialog2'>
		<h1>hello world</h1>
	</ab:dialog>
	<script src='../../src/avalon.js'></script>
	<script>
		require(["dialog/avalon.dialog"],function(){
			var vmodel = avalon.define({
				$id : "page",
				show : function(){
					avalon.vmodels.$dialog1.open();
				},
				contextmenu : function(){
					console.log(22233);
				},
				$dialog1Opts : {
					title : "dialog1",
					show2 : function(){
						avalon.vmodels.$dialog2.open();
					},
					buttons : [{
						text : "确定",
						handler : function(){
							alert('hello');
						}
					},{
						text : "取消",
						close : true
					}],
					onOpen : function(){
						avalon.log(arguments);
					}
				},
				$dialog2Opts : {
					title : "dialog2",
					buttons : [{
						text : "取消",close : true
					}]
				}
			});
			avalon.scan();
		});
	</script>
</body>
</html>